Design principles: 
+ LLM selection based on https://bird-bench.github.io/ SOTA benchmark results
+ when user enter a query then make a limit to 5 records and run the query on bigquery to check if sql-query works
+ or run the query on local mock db with same schema as on bigquery and check if sql-query works
+ LLM generate SQL -> check if sql query works on bigquery:
+ if yes, show the results
+ if no, generate new SQL query and check if it works on bigquery until it works
+ persona: you are crypto data analyst, You have experience and knowledge in blockchain data analysis and you are expert in BigQuery SQL. <br><br>
+ first LLM has to understand user intent by precise follow up questions, when amibguity is removed and user intent is clear, then generate SQL query
+ check models from big to small and stop when efficiency is not good enough
+ SQL type must match BigQuery SQL syntax
+ when SQL query successfull user has to approve and query will be added to text file for future reference and to be used in future queries <br><br>
Security:
+ Never run generated SQL with elevated write privileges. Use read-only credentials or a sandbox environment.
+ Parameterize user inputs to avoid injection. Treat generated SQL as a template with bound params.
+ Limit allowed statements (no DROP, DELETE, UPDATE, DDL) at the gateway or by policy in decoding.
+ Limit query complexity to avoid resource exhaustion and performance degradation.

Design choices:
https://bird-bench.github.io/