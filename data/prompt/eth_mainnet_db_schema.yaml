# Dataset: goog_blockchain_ethereum_mainnet_us

# Table: blocks
blocks:
  type: TABLE
  schema:
    - name: block_hash
      type: STRING
      mode: REQUIRED
      description: Hash of the block.
    - name: block_number
      type: INTEGER
      mode: REQUIRED
      description: Number of the block.
    - name: block_timestamp
      type: TIMESTAMP
      mode: REQUIRED
      description: Unix timestamp when the block was added to the blockchain.
    - name: parent_hash
      type: STRING
      mode: REQUIRED
      description: Hash of the parent block.
    - name: size
      type: INTEGER
      mode: REQUIRED
      description: Size of this block in bytes.
    - name: extra_data
      type: STRING
      mode: REQUIRED
      description: Extra data of this block.
    - name: gas_limit
      type: INTEGER
      mode: REQUIRED
      description: Maximum gas allowed in this block.
    - name: gas_used
      type: INTEGER
      mode: REQUIRED
      description: Total gas used by all transactions in this block.
    - name: base_fee_per_gas
      type: BIGNUMERIC
      mode: NULLABLE
      description: Reserve price that transactions must pay for inclusion in this block.
    - name: mix_hash
      type: STRING
      mode: REQUIRED
      description: 32-byte hash which proves, when combined with the nonce, that a sufficient amount of computation has been carried out on this block.
    - name: nonce
      type: STRING
      mode: REQUIRED
      description: 8-byte integer in hexadecimal format. Used together with the mix hash to show the proof of work.
    - name: difficulty
      type: BIGNUMERIC
      mode: NULLABLE
      description: Difficulty for this block.
    - name: total_difficulty
      type: BIGNUMERIC
      mode: NULLABLE
      description: Accumulated difficulty of the chain until this block.
    - name: miner
      type: STRING
      mode: REQUIRED
      description: Address of the beneficiary to whom the mining rewards were given.
    - name: sha3_uncles
      type: STRING
      mode: REQUIRED
      description: SHA3 of the uncles data in the block.
    - name: transaction_count
      type: INTEGER
      mode: REQUIRED
      description: Number of transactions in the block.
    - name: transactions_root
      type: STRING
      mode: REQUIRED
      description: Root of the transaction trie of the block.
    - name: receipts_root
      type: STRING
      mode: REQUIRED
      description: Root of the receipts trie of the block.
    - name: state_root
      type: STRING
      mode: REQUIRED
      description: Root of the final state trie of the block.
    - name: logs_bloom
      type: STRING
      mode: REQUIRED
      description: Bloom filter for the logs of the block.
    - name: withdrawals_root
      type: STRING
      mode: NULLABLE
      description: Validator withdrawal root.
    - name: withdrawals
      type: RECORD
      mode: REPEATED
      description: Validator withdrawals.
      fields:
        - name: index
          type: INTEGER
          mode: NULLABLE
          description: Index of the withdrawal.
        - name: validator_index
          type: INTEGER
          mode: NULLABLE
          description: Index of the validator.
        - name: address
          type: STRING
          mode: NULLABLE
          description: Withdrawal address.
        - name: amount
          type: BIGNUMERIC
          mode: NULLABLE
          description: Withdrawal amount in Gwei.

# Table: transactions
transactions:
  type: TABLE
  schema:
    - name: nonce
      type: INTEGER
      mode: REQUIRED
      description: The number of transactions made by the sender prior to this one.
    - name: block_hash
      type: STRING
      mode: REQUIRED
      description: Hash of the block where this transaction was in.
    - name: block_number
      type: INTEGER
      mode: REQUIRED
      description: Block number where this transaction was in.
    - name: block_timestamp
      type: TIMESTAMP
      mode: REQUIRED
      description: Unix timestamp of the block when this transaction was in.
    - name: transaction_index
      type: INTEGER
      mode: REQUIRED
      description: Integer of the transactions index position in the block.
    - name: from_address
      type: STRING
      mode: REQUIRED
      description: Address of the sender.
    - name: to_address
      type: STRING
      mode: NULLABLE
      description: Address of the receiver. Null when it's a contract creation transaction.
    - name: value
      type: BIGNUMERIC
      mode: REQUIRED
      description: Value transferred in Wei.
    - name: gas
      type: INTEGER
      mode: REQUIRED
      description: Gas provided by the sender.
    - name: gas_price
      type: BIGNUMERIC
      mode: REQUIRED
      description: Gas price provided by the sender in Wei.
    - name: input
      type: STRING
      mode: REQUIRED
      description: The data sent along with the transaction.
    - name: max_fee_per_gas
      type: BIGNUMERIC
      mode: NULLABLE
      description: Max fee per gas.
    - name: max_priority_fee_per_gas
      type: BIGNUMERIC
      mode: NULLABLE
      description: Max priority fee per gas.
    - name: transaction_type
      type: INTEGER
      mode: NULLABLE
      description: Transaction type (e.g., 0 for legacy, 1 for EIP-2930, 2 for EIP-1559).

# Table: receipts
receipts:
  type: TABLE
  schema:
    - name: transaction_hash
      type: STRING
      mode: REQUIRED
      description: Hash of the transaction.
    - name: transaction_index
      type: INTEGER
      mode: REQUIRED
      description: Integer of the transactions index position in the block.
    - name: block_hash
      type: STRING
      mode: REQUIRED
      description: Hash of the block where this transaction was in.
    - name: block_number
      type: INTEGER
      mode: REQUIRED
      description: Block number where this transaction was in.
    - name: block_timestamp
      type: TIMESTAMP
      mode: REQUIRED
      description: Unix timestamp of the block when this transaction was in.
    - name: from_address
      type: STRING
      mode: REQUIRED
      description: Address of the sender.
    - name: to_address
      type: STRING
      mode: NULLABLE
      description: Address of the receiver.
    - name: cumulative_gas_used
      type: INTEGER
      mode: REQUIRED
      description: The total amount of gas used when this transaction was executed in the block.
    - name: gas_used
      type: INTEGER
      mode: REQUIRED
      description: The amount of gas used by this specific transaction alone.
    - name: contract_address
      type: STRING
      mode: NULLABLE
      description: The contract address created if the transaction was a contract creation, otherwise null.
    - name: root
      type: STRING
      mode: NULLABLE
      description: 32 bytes of post-transaction stateroot (for transactions pre-Byzantium).
    - name: status
      type: INTEGER
      mode: NULLABLE
      description: 1 if the transaction was successful, 0 if it failed (for transactions post-Byzantium).
    - name: effective_gas_price
      type: BIGNUMERIC
      mode: NULLABLE
      description: Actual gas price used in the transaction.

# Table: logs
logs:
  type: TABLE
  schema:
    - name: log_index
      type: INTEGER
      mode: REQUIRED
      description: Integer of the log index position in the block.
    - name: transaction_hash
      type: STRING
      mode: REQUIRED
      description: Hash of the transaction this log was created from.
    - name: transaction_index
      type: INTEGER
      mode: REQUIRED
      description: Integer of the transactions index position in the block.
    - name: block_hash
      type: STRING
      mode: REQUIRED
      description: Hash of the block where this log was created from.
    - name: block_number
      type: INTEGER
      mode: REQUIRED
      description: The block number where this log was created from.
    - name: block_timestamp
      type: TIMESTAMP
      mode: REQUIRED
      description: Unix timestamp of the block when this log was created.
    - name: address
      type: STRING
      mode: REQUIRED
      description: Address from which this log originated.
    - name: data
      type: STRING
      mode: REQUIRED
      description: Contains one or more 32 Bytes non-indexed arguments of the log.
    - name: topics
      type: STRING
      mode: REPEATED
      description: Array of 0 to 4 32 Bytes DATA of indexed log arguments. (In solidity: The first topic is the hash of the signature of the event, except if you declared the event with the anonymous specifier.)

# Table: traces
traces:
  type: TABLE
  schema:
    - name: transaction_hash
      type: STRING
      mode: REQUIRED
      description: Hash of the transaction.
    - name: transaction_index
      type: INTEGER
      mode: REQUIRED
      description: Integer of the transaction's index position in the block.
    - name: from_address
      type: STRING
      mode: NULLABLE
      description: Address of the sender.
    - name: to_address
      type: STRING
      mode: NULLABLE
      description: Address of the receiver.
    - name: value
      type: BIGNUMERIC
      mode: REQUIRED
      description: Value transferred in Wei.
    - name: input
      type: STRING
      mode: REQUIRED
      description: The data sent along with the transaction.
    - name: output
      type: STRING
      mode: REQUIRED
      description: The output of the trace.
    - name: trace_type
      type: STRING
      mode: REQUIRED
      description: Call type (call, delegatecall, staticcall, create).
    - name: call_type
      type: STRING
      mode: NULLABLE
      description: Type of call.
    - name: reward_type
      type: STRING
      mode: NULLABLE
      description: Type of reward.
    - name: gas
      type: INTEGER
      mode: REQUIRED
      description: Gas provided for the trace.
    - name: gas_used
      type: INTEGER
      mode: REQUIRED
      description: Gas used by the trace.
    - name: subtraces
      type: INTEGER
      mode: REQUIRED
      description: The number of subtraces.
    - name: trace_address
      type: INTEGER
      mode: REPEATED
      description: Array of trace address.
    - name: error
      type: STRING
      mode: NULLABLE
      description: Error message if the trace failed.
    - name: status
      type: INTEGER
      mode: NULLABLE
      description: 1 if the trace was successful, 0 if it failed.
    - name: block_number
      type: INTEGER
      mode: REQUIRED
      description: Block number where this trace was in.
    - name: block_timestamp
      type: TIMESTAMP
      mode: REQUIRED
      description: Unix timestamp of the block when this trace was in.
    - name: block_hash
      type: STRING
      mode: REQUIRED
      description: Hash of the block where this trace was in.
    - name: contract_address
      type: STRING
      mode: NULLABLE
      description: The contract address created if the trace was a contract creation, otherwise null.

# Table: token_transfers
token_transfers:
  type: TABLE
  schema:
    - name: token_address
      type: STRING
      mode: REQUIRED
      description: Address of the ERC-20 token.
    - name: from_address
      type: STRING
      mode: REQUIRED
      description: Address of the sender.
    - name: to_address
      type: STRING
      mode: REQUIRED
      description: Address of the receiver.
    - name: value
      type: BIGNUMERIC
      mode: REQUIRED
      description: Value of tokens transferred.
    - name: transaction_hash
      type: STRING
      mode: REQUIRED
      description: Hash of the transaction.
    - name: log_index
      type: INTEGER
      mode: REQUIRED
      description: Integer of the log index position in the block.
    - name: block_number
      type: INTEGER
      mode: REQUIRED
      description: Block number where this transfer was in.
    - name: block_timestamp
      type: TIMESTAMP
      mode: REQUIRED
      description: Unix timestamp of the block when this transfer was in.
    - name: block_hash
      type: STRING
      mode: REQUIRED
      description: Hash of the block where this transfer was in.

# Table: decoded_events
decoded_events:
  type: TABLE
  schema:
    - name: log_index
      type: INTEGER
      mode: REQUIRED
      description: Integer of the log index position in the block.
    - name: transaction_hash
      type: STRING
      mode: REQUIRED
      description: Hash of the transaction this log was created from.
    - name: transaction_index
      type: INTEGER
      mode: REQUIRED
      description: Integer of the transactions index position in the block.
    - name: block_hash
      type: STRING
      mode: REQUIRED
      description: Hash of the block where this log was created from.
    - name: block_number
      type: INTEGER
      mode: REQUIRED
      description: The block number where this log was created from.
    - name: block_timestamp
      type: TIMESTAMP
      mode: REQUIRED
      description: Unix timestamp of the block when this log was created.
    - name: address
      type: STRING
      mode: REQUIRED
      description: Address from which this log originated (contract address).
    - name: contract_type
      type: STRING
      mode: NULLABLE
      description: Type of contract (e.g., ERC20, ERC721).
    - name: event_name
      type: STRING
      mode: NULLABLE
      description: Name of the decoded event (e.g., Transfer, Approval).
    - name: event_parameters
      type: RECORD
      mode: REPEATED
      description: Decoded parameters of the event.
      fields:
        - name: name
          type: STRING
          mode: NULLABLE
          description: Name of the parameter.
        - name: value
          type: STRING
          mode: NULLABLE
          description: Value of the parameter (string representation).
        - name: type
          type: STRING
          mode: NULLABLE
          description: Original solidity type of the parameter.

# Materialized View: accounts
accounts:
  type: MATERIALIZED_VIEW
  schema:
    - name: address
      type: STRING
      mode: REQUIRED
      description: Address identifying the account.
    - name: bytecode
      type: STRING
      mode: NULLABLE
      description: Compiled runtime bytecode of this account, if it's a smart contract.
    - name: code_hash
      type: STRING
      mode: NULLABLE
      description: Hash of the code of the account.
    - name: is_contract
      type: BOOLEAN
      mode: NULLABLE
      description: True if the account is a contract, False otherwise.
    - name: block_timestamp
      type: TIMESTAMP
      mode: REQUIRED
      description: Timestamp of the last update to this account's state.

# Materialized View: accounts_state
accounts_state:
  type: MATERIALIZED_VIEW
  schema:
    - name: address
      type: STRING
      mode: REQUIRED
      description: Account address.
    - name: block_number
      type: INTEGER
      mode: REQUIRED
      description: Block number at which this state was recorded.
    - name: block_timestamp
      type: TIMESTAMP
      mode: REQUIRED
      description: Timestamp of the block.
    - name: balance
      type: BIGNUMERIC
      mode: NULLABLE
      description: Account balance in Wei.
    - name: nonce
      type: INTEGER
      mode: NULLABLE
      description: Number of transactions sent from this address.
    - name: storage_hash
      type: STRING
      mode: NULLABLE
      description: Hash of the account's storage.
    - name: code_hash
      type: STRING
      mode: NULLABLE
      description: Hash of the account's code.

# Materialized View: accounts_state_by_address
accounts_state_by_address:
  type: MATERIALIZED_VIEW
  schema:
    - name: address
      type: STRING
      mode: REQUIRED
      description: Account address.
    - name: block_number
      type: INTEGER
      mode: REQUIRED
      description: Block number at which this state was recorded.
    - name: block_timestamp
      type: TIMESTAMP
      mode: REQUIRED
      description: Timestamp of the block.
    - name: balance
      type: BIGNUMERIC
      mode: NULLABLE
      description: Account balance in Wei.
    - name: nonce
      type: INTEGER
      mode: NULLABLE
      description: Number of transactions sent from this address.
    - name: storage_hash
      type: STRING
      mode: NULLABLE
      description: Hash of the account's storage.
    - name: code_hash
      type: STRING
      mode: NULLABLE
      description: Hash of the account's code.

# Materialized View: transactions_by_from_address
transactions_by_from_address:
  type: MATERIALIZED_VIEW
  schema:
    - name: from_address
      type: STRING
      mode: REQUIRED
      description: Address of the transaction sender.
    - name: transaction_hash
      type: STRING
      mode: REQUIRED
      description: Hash of the transaction.
    - name: block_number
      type: INTEGER
      mode: REQUIRED
      description: Block number where this transaction was in.
    - name: block_timestamp
      type: TIMESTAMP
      mode: REQUIRED
      description: Unix timestamp of the block when this transaction was in.
    - name: to_address
      type: STRING
      mode: NULLABLE
      description: Address of the receiver.
    - name: value
      type: BIGNUMERIC
      mode: REQUIRED
      description: Value transferred in Wei.
    - name: gas_price
      type: BIGNUMERIC
      mode: REQUIRED
      description: Gas price provided by the sender in Wei.

# Materialized View: transactions_by_to_address
transactions_by_to_address:
  type: MATERIALIZED_VIEW
  schema:
    - name: to_address
      type: STRING
      mode: REQUIRED
      description: Address of the transaction receiver.
    - name: transaction_hash
      type: STRING
      mode: REQUIRED
      description: Hash of the transaction.
    - name: block_number
      type: INTEGER
      mode: REQUIRED
      description: Block number where this transaction was in.
    - name: block_timestamp
      type: TIMESTAMP
      mode: REQUIRED
      description: Unix timestamp of the block when this transaction was in.
    - name: from_address
      type: STRING
      mode: REQUIRED
      description: Address of the sender.
    - name: value
      type: BIGNUMERIC
      mode: REQUIRED
      description: Value transferred in Wei.
    - name: gas_price
      type: BIGNUMERIC
      mode: REQUIRED
      description: Gas price provided by the sender in Wei.
